(this["webpackJsonpmy-money"]=this["webpackJsonpmy-money"]||[]).push([[0],{121:function(e,t,n){e.exports=n(228)},126:function(e,t,n){},127:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(42),l=n.n(c),o=(n(126),n(127),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Manage your expenses!"))}),u=n(13),m=n(94),i={},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE-NOTE":return e[t.date]?e[t.date]=[].concat(Object(m.a)(e[t.date]),[{goodsName:t.goodsName,amount:t.amount,currency:t.currency}]):e[t.date]=[{goodsName:t.goodsName,amount:t.amount,currency:t.currency}],Object(u.a)({},e);case"LIST":var n={};return Object.keys(e).sort().forEach((function(t){n[t]=e[t]})),n;case"CLEAR":return delete e[t.date],Object(u.a)({},e);default:return e}},d=n(7),E=n(86),f=n(87),N=function(e){return e.currenciesList.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))},b=Object(d.b)((function(e){return{currenciesList:e.currencies.currencies}}))(N),D=function(e){var t={};return e.date||(t.date="Field is required"),e.amount?e.amount<1&&(t.amount="The number must be positive"):t.amount="Field is required",e.currency||(t.currency="Field is required"),e.goodsName||(t.goodsName="Field is required"),t},y=function(e){var t=e.input,n=e.type,a=e.meta,c=a.touched,l=a.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({},t,{type:n})),r.a.createElement("br",null),c&&l&&r.a.createElement("span",{className:"renderField"},l))},O=n(95),S=function(e){var t=e.input,n=e.meta,a=n.touched,c=n.error,l=Object(O.a)(e,["input","meta"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",Object.assign({},t,l)),r.a.createElement("br",null),a&&c&&r.a.createElement("span",{className:"renderField"},c))},p=Object(f.a)({form:"add",validate:D})((function(e){return r.a.createElement("form",{className:"form add",onSubmit:e.handleSubmit},r.a.createElement("button",{className:"button"},"Add"),r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Date"),r.a.createElement(E.a,{component:y,name:"date",type:"date"})),r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Amount"),r.a.createElement(E.a,{component:y,name:"amount",type:"number"})),r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Currency"),r.a.createElement(E.a,{component:S,name:"currency"},r.a.createElement("option",null),r.a.createElement(b,null))),r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Name"),r.a.createElement(E.a,{component:y,name:"goodsName",type:"text"})))})),R=function(e){return r.a.createElement(p,{onSubmit:function(t){var n=t.date,a=t.amount,r=t.currency,c=t.goodsName;e.addNote(n,a,r,c),e.add(a,r),e.reset("add"),e.clear()}})},h=n(91),v={collection:[],total:{amount:null,currency:null}},A=function(){return{type:"CLEAR"}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return e.collection.push([+t.amount,t.currency]),Object(u.a)({},e);case"TOTAL":return 0===t.i&&(e.total.amount=0),e.total.amount+=Math.round(1/t.from*t.amount*100)/100,e.total.currency=t.currency,Object(u.a)({},e);case"CLEAR":return e.total.amount=null,e.total.currency=null,Object(u.a)({},e);default:return e}},T=n(12),L=Object(d.b)((function(){return{}}),{addNote:function(e,t,n,a){return{type:"ADD_NOTE-NOTE",date:e,amount:t,currency:n,goodsName:a}},add:function(e,t){return{type:"ADD",amount:e,currency:t}},clear:A,reset:T.a})(R),C=function(e){return r.a.createElement("div",{className:"list"},r.a.createElement("button",{className:"button",onClick:function(){e.list(),e.clear()}},"List"))},M=Object(d.b)((function(){return{}}),{list:function(){return{type:"LIST"}},clear:A})(C),B=Object(f.a)({form:"clear",validate:D})((function(e){return r.a.createElement("form",{className:"form",onSubmit:e.handleSubmit},r.a.createElement("button",{className:"button"},"Clear"),r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Date"),r.a.createElement(E.a,{component:y,type:"date",name:"date"})))})),P=function(e){return r.a.createElement(B,{onSubmit:function(t){var n=t.date;e.clearNote(n),e.reset("clear"),e.clear()}})},j=Object(d.b)((function(){return{}}),{clearNote:function(e){return{type:"CLEAR",date:e}},clear:A,reset:T.a})(P),F=Object(f.a)({form:"total",validate:D})((function(e){return r.a.createElement("form",{className:"form",onSubmit:e.handleSubmit},r.a.createElement("button",{className:"button"},"Total"),r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Currency"),r.a.createElement(E.a,{component:S,name:"currency"},r.a.createElement("option",null),r.a.createElement(b,null))))})),K=function(e){return r.a.createElement(F,{onSubmit:function(t){var n=t.currency;e.converter(e.collection,n,e.amount),e.reset("total")}})},G=Object(d.b)((function(e){return{collection:e.total.collection}}),{converter:function(e,t){return function(n){Object(h.getCarrencies)().then((function(a){e.forEach((function(e,r){n(function(e,t,n,a){return{type:"TOTAL",from:e,amount:t,currency:n,i:a}}(a.rates[e[1]],e[0],t,r))}))}))}},reset:T.a})(K),U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),r.a.createElement(M,null),r.a.createElement(j,null),r.a.createElement(G,null))},H=function(e){var t=e.history,n=e.total,a=Object.entries(t);return r.a.createElement("section",null,a.map((function(e,t){return r.a.createElement("div",{key:t},e[0],e[1].map((function(e){return r.a.createElement("div",{key:t+Math.random()},e.goodsName,"\xa0",e.amount,"\xa0",e.currency)})))})),r.a.createElement("br",null),r.a.createElement("div",null,n.total.amount,"\xa0",n.total.currency))},w=Object(d.b)((function(e){return{history:e.history,total:e.total}}))(H);var I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,null),r.a.createElement(U,null),r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=n(6),Y=n(88),Z=n(92),X={currencies:["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XCD","XDR","XOF","XPF","XSU","XUA","YER","ZAR","ZMW","ZWL"]},k="currency_reducer/CURRENCIES",V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return e.currencies=t.currencies,Object(u.a)({},e);default:return e}},J=n(93),q=Object(W.combineReducers)({form:Y.a,history:s,total:g,currencies:V}),x=Object(W.createStore)(q,Object(J.composeWithDevTools)(Object(W.applyMiddleware)(Z.a)));window.store=x;var Q=x;l.a.render(r.a.createElement(d.a,{store:Q},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t){}},[[121,1,2]]]);
//# sourceMappingURL=main.bc848f19.chunk.js.map